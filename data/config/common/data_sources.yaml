# 数据源通用配置
version: "1.0"
description: "数据源接口通用配置"

data_source_templates:
  # 数据源模板
  tushare_template:
    name: "Tushare数据源"
    type: "remote_http"
    
    api:
      base_url: "http://api.tushare.pro"
      version: "v1"
      timeout: 30
      retry_times: 3
      
    rate_limits:
      requests_per_minute: 200
      requests_per_day: 10000
      
    data_types:
      daily: true
      minute: true
      tick: false
      financial: true
      
  joinquant_template:
    name: "JoinQuant数据源"
    type: "remote_http"
    
    api:
      base_url: "https://data.joinquant.com"
      timeout: 60
      
    rate_limits:
      requests_per_minute: 100
      
  local_file_template:
    name: "本地文件数据源"
    type: "local_file"
    
    formats:
      csv:
        delimiter: ","
        date_format: "%Y-%m-%d"
        time_format: "%H:%M:%S"
        
      parquet:
        compression: "snappy"
        
    directory_structure:
      by_symbol: "{symbol}/{frequency}/{year}/{month}/"
      by_date: "{year}/{month}/{day}/{frequency}/"

common_settings:
  # 通用数据设置
  data_quality:
    require_continuity: true
    fill_method: "ffill"            # 前向填充
    max_gap_days: 3
    
  caching:
    enabled: true
    cache_dir: "./data_cache/"
    max_cache_size: "10GB"
    cache_duration: 86400           # 缓存24小时
    
  realtime_data:
    update_frequency: 1000          # 更新频率1000ms
    buffer_size: 1000
    max_latency: 5000               # 最大延迟5000ms
    
  historical_data:
    default_lookback: 252           # 默认回溯252天
    max_lookback: 10000
    download_parallel: 5            # 并行下载数
    
  validation_rules:
    price:
      min: 0.01
      max: 100000
      
    volume:
      min: 0
      max: 10000000000
      
    timestamp:
      require_monotonic: true
      allow_future_dates: false